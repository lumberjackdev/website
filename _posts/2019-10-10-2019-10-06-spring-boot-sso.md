---
layout: post
title: "How To: Spring Security with SSO through Oauth2"
tags: [how-to, spring, sso, oauth2]
summary: "Learn how to setup Spring Security with an SSO provider using Oauth2"
published: false
---

### The Problem
Let's face it, authentication and user identity management isn't exactly easy. And I think I can safely say that for most developers it's not the most fun thing either. Building your own system can add maintenance costs and delay the path to production. So how can we solve this? Single Sign-On (SSO) of course! In this post, I'll walk you through securing a spring boot application using an SSO provider (Google in this case).

### Background
Before we get into the actual code, let's talk a little bit more about what SSO actually is. To do that, we'll first need to get into what Oauth2 is since you'll often hear the two terms used together a lot. 
- What is SSO
- What is Oauth2

- Why they're a good solution

### Steps

- Get a google client id and secret:
https://developers.google.com/identity/sign-in/web/sign-in#before_you_begin

- Setup the dependencies
-> Include gradle snippet

- Add yaml properties
-> Include snippet with obscuring clientId and Secret

- Security Config
-> Code snippet of SecurityConfig.kt

- Test
-> Code snippet of LoginTests.kt

### Things to Look Out For
-> You're relinquishing control of data
-> If the SSO provider has issues, then your users will have issues

### What's next?
I know not every team has the luxury of using an existing SSO provider like Google. So one of the next tutorials I'll be doing will be for setting up our own SSO provider using Spring Security's [Authorization Server](https://docs.spring.io/spring-security-oauth2-boot/docs/current/reference/html/boot-features-security-oauth2-authorization-server.html). That way your team or organization can setup their own provider for use across multiple applications.

I hope this tutorial can help you and your team, thanks for reading!